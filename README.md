# Минимальный продукт Web4 для тестовой сети (ТЗ для Codex)

## 1. Реализовать рабочий backend для локальной сети Web4
- Backend запускается из папки `brelynt-electron`.
- Обеспечить P2P-соединение всех устройств (5 ПК, 3 смартфона) внутри одной локальной сети.
- Устройства видят друг друга, могут обмениваться ресурсами, файлами, сообщениями.
- Всё работает полностью офлайн, без зависимости от внешних серверов.

## 2. Встроить мини-блокчейн
- Реализовать мини-блокчейн для регистрации и передачи токенов между участниками.
- Поддержка создания токенов, их передачи, получения, просмотра истории операций.
- Все транзакции проходят реально и фиксируются в блокчейне.
- Необходима система шифрования и подписи транзакций.

## 3. Сделать рабочий кошелёк
- У каждого пользователя индивидуальный кошелёк с балансом токенов.
- Доступен интерфейс для просмотра баланса, отправки/получения токенов, просмотра истории.
- Простая авторизация для тестовой сети.

## 4. Реализовать гуманитарный майнинг
- Добавить функцию, позволяющую пользователю делиться ресурсами (память, вычисления, скорость).
- За предоставленные ресурсы начисляются токены (баланс увеличивается реально).
- Все настройки доступны в административной панели.

## 5. Сделать минимальную административную часть
- Панель управления: состояние сети, список устройств, распределение ресурсов, история начислений и транзакций.
- Возможность настройки лимитов, параметров обмена, мониторинга устройств.
- Интерфейс максимально простой.

## 6. Обеспечить сборку LiveUSB-дистрибутива на Linux
- Приложение должно запускаться с флешки без установки.
- При старте LiveUSB автоматически открывается главная страница Web4 (`brelynt-electron/public/index.html`).
- Совместимость: ПК на Windows 7–10, Linux, смартфоны (Android, по возможности iOS).
- Все критически важные зависимости должны входить в дистрибутив.

## 7. Подготовить инструкции для пользователя
- Подробно описать процесс запуска на ПК и смартфоне, запуск кошелька, настройку майнинга.
- Инструкция включается в архив web4.zip отдельным файлом (например, `README_USER.txt`).

---

## Взаимосвязи и требования к системе

- Все указанные компоненты должны работать как единая система.
- Архив `web4.zip` содержит всё необходимое для запуска тестовой сети из 5 ПК и 3 смартфонов.
- После распаковки на любой машине (ПК или смартфон) запуск должен требовать минимум действий.
- Все части приложения должны быть готовы к расширению (подключение новых модулей, поддержка новых платформ).



---

# Web4 / BrelyntOS

**Web4** — это новая парадигма интернета: полностью децентрализованный, приватный, автономный “интернет поверх интернета”, где каждый пользователь становится узлом собственной мини-сети и может отдавать ресурсы другим участникам.

**BrelyntOS** — это лабораторная тестовая сборка Web4:  
- Все запускается с флешки или через LiveUSB на любых, даже самых старых, компьютерах.
- Работает без серверов, логинов и регистраций.
- Позволяет объединять ресурсы между несколькими компьютерами и смартфонами в локальной сети.

---

## Архитектура и основные компоненты

- **Ядро системы**:  
  Мини-дистрибутив Linux (или аналогичный), который грузится с USB и не требует установки.
- **Интерфейс**:  
  Запуск минимального браузера, автооткрытие приложения (`brelynt-electron/public/index.html`).
- **P2P-сеть**:  
  Обнаружение других устройств в локальной сети, обмен ресурсами, автономная синхронизация данных.
- **Блокчейн-модуль**:  
  Встроенный кошелёк, история транзакций, автоматическая выдача токенов за “гуманитарный майнинг” (выделение ресурсов).
- **Мини-сервисы**:  
  Чат, обмен файлами, handshake новых устройств, базовая API для расширения (модули легко добавляются).
- **Смартфоны**:  
  Подключаются через Wi-Fi и webview, могут обмениваться файлами и ресурсами.

---

## Минимальные требования и условия эксплуатации

### 1. Операционная система и запуск

- LiveUSB Linux (или аналог), работающий на любом ПК (x86, x64), включая старые модели.
- Полная загрузка в ОЗУ, не затрагивает HDD/SSD.

### 2. Интерфейс

- Автоматический старт браузера с приложением Web4 (index.html).
- Не требует установки/настроек/регистраций.

### 3. Сетевая топология

- Узлы автоматически ищут друг друга в локальной сети (LAN/Wi-Fi).
- P2P-обмен: через multicast/broadcast/WebRTC/WebSockets.
- Каждый узел может отдавать или получать ресурсы: память, CPU, сеть.

### 4. Гуманитарный майнинг

- Ресурсы каждого компьютера делятся между участниками сети добровольно.
- Токены начисляются за выделение ресурсов (память/CPU/канал).
- Вся экономика — полностью автономная, без внешних серверов.

### 5. Внутренние сервисы

- Кошелёк и история транзакций (блокчейн).
- Встроенный чат.
- Передача файлов (drag’n’drop).
- Автоматическое обнаружение новых устройств.

### 6. Поддержка слабого железа

- Оптимизированный интерфейс, минимум скриптов и визуальных эффектов.
- Работа на старых ПК (Windows 10, Pentium и ниже).
- Лимиты ресурсов настраиваются вручную для старых устройств.

### 7. Смартфоны

- Подключение к Web4 через браузер/webview по Wi-Fi.
- По возможности, обмен памятью и мощностью.

### Подключение смартфонов через Wi-Fi

1. Подключите смартфон и компьютер с BrelyntOS к одной сети Wi-Fi.
2. В каталоге `brelynt-electron` запустите `node blhub-server.js`.
3. В браузере смартфона откройте `http://<IP_PC>:3040/mobile/`.
4. Появится минимальный интерфейс для подключения к P2P и работы с кошельком.


---

## Как запустить лабораторию Web4

1. **Подготовить USB-носители** для всех тестовых компьютеров (5 ПК + 3 смартфона через Wi-Fi).
2. **Запустить LiveUSB на каждом ПК.**
3. После старта — откроется Web4-приложение (`index.html`).
4. Все устройства автоматически найдут друг друга по локальной сети.
5. На каждом устройстве появится кошелёк, блокчейн, чат, возможность делиться ресурсами.
6. Гуманитарный майнинг активируется вручную или автоматически по настройке.
7. Вся экономика, обмен токенами и файлами — только внутри вашей локальной сети, без серверов.

---

## Где находится основное приложение

### Настройка директории Brelynt

- По умолчанию данные ищутся в системной папке Electron (`app.getPath('userData')/Brelynt`).
- При необходимости можно указать переменную окружения `BRELYNT_PATH` с абсолютным путем
  к каталогу данных. Ошибка "Папка не найдена" подскажет об этом, если путь не обнаружен.

---

## Для Codex (AI / Github Copilot)

**Задание для Codex:**

> 1. Провести анализ всей структуры проекта, с учётом того, что корневая директория — `D:\BrelyntApp`.
> 2. Автоматизировать сборку backend-модуля (P2P, блокчейн, кошелёк, обмен ресурсами) для запуска на флешке.
> 3. Подготовить минимальный дистрибутив Linux (или скрипт создания LiveUSB), который при старте запускает `brelynt-electron/public/index.html` на любом компьютере.
> 4. Организовать P2P-обнаружение устройств, обмен ресурсами, запуск внутреннего чата, кошелька, файлового обмена — без серверной инфраструктуры.
> 5. Реализовать автоматический handshake новых устройств в сети и гуманитарный майнинг.
> 6. При необходимости добавить шаблон .gitignore, лицензию, структуру модулей — все оптимизировать под тестовую лабораторию Web4.
> 7. Документировать все шаги, добавить тестовые сценарии и инструкции для команды.

---
### Creating a release
Push a tag starting with `v` (e.g., `git tag v1.0 && git push origin v1.0`).
GitHub Actions will build `web4.zip` and attach it to the new release automatically.

## Контакты

- Telegram: [@web4contacty](https://t.me/web4contacty)  
- Website: [https://web4osy.io](https://web4osy.io) (готовится к запуску)

---

